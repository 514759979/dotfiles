#!/bin/zsh

if [[ $1 == http* || $1 == www* ]] {
    wrun cmd /c start "" $*
    return
}

dir_name=${1:h}
file_name=${1:t}

if [[ $dir_name == / ]] {
    cd /; setsid wrun cmd /c start .; cd - >/dev/null
} elif [[ $dir_name == /mnt ]] {
    cd /; setsid wrun cmd /c start "" $file_name:; cd - >/dev/null
} else {
    shift 2>/dev/null
    cd $dir_name && setsid wrun cmd /c start "" $file_name $*; cd - >/dev/null
}
