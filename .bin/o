#!/bin/bash

[ "$HOSTNAME" = "MY-PC" ] && {
    echo "$@" | grep " " >/dev/null || exec wstart "$@"
    # TODO
    exec z c:/mine/app/msys2/usr/bin/cygstart "$@"
}

exit

type cygstart &>/dev/null && exec cygstart "$@"
type open &>/dev/null && exec open "$@"

function f() {
    $1 "$2" &>/dev/null &
}

if [ $# == 0 ]; then
    exit
fi

if [ "${1/:*/}" = 'http' ] || [ "${1/:*/}" = 'https' ]; then
    firefox "$1" &
    exit
fi

if [ "${1/:*/}" = 'ftp' ]; then
    lftp "$1"
    exit
fi

declare -l p=${1/*./}

case $p in
    pdf)
        f zathura "$1"
        ;;
    chm)
        f kchmviewer "$1"
        ;;
    html|htm|mht|mhtml|swf|epub)
        f firefox "$1"
        ;;
    doc|docx)
        f wps "$1"
        ;;
    ppt|pptx)
        f wpp "$1"
        ;;
    xls|xlsx)
        f et "$1"
        ;;
    jpg|png|gif)
        f geeqie "$1"
        ;;
    avi|mp4|mp3|aac|ogg|ogv|mts|mkv|asf|wmv|flv|f4v|dat|vob|iso|ts|rm|rmvb|m4v|3gp|mpg|ape|flac)
        mplayer "$1"
        ;;
    sqlite)
        f sqlitebrowser "$1"
        ;;
    nes)
        f fceux "$1"
        ;;
    xmind|mmap)
        f XMind "$1"
        ;;
    *)
        vim "$1"
        ;;
esac
